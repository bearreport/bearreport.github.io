<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>A New Hope</title>
        <link rel="stylesheet" href="./style.css" />
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.2.4/pixi.min.js"
            integrity="sha512-Ch/O6kL8BqUwAfCF7Ie5SX1Hin+BJgYH4pNjRqXdTEqMsis1TUYg+j6nnI9uduPjGaj7DN4UKCZgpvoExt6dkw=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        ></script>
    </head>
    <body>
        <div class="overlay-container" id="overlay">
            <h2>Episode X</h2>
            <h1>THE QUEST TO PLEASE UPPER MANAGEMENT</h1>
            <p>
                It is a time of confusion. Conflicting demands to cut costs and
                drive growth have hiring managers desperate for a solution to
                their plight.
            </p>
            <p>
                During the battle, the temp alliance reaches out and presents
                JOSH BAYER, their ultimate full-stack development weapon, a man
                who thinks about what his docker containers are doing when he's
                out with his friends.
            </p>
            <p>
                Pursued by the Economy's Sinister Agents, THE SMARTEST HIRING
                MANAGER TO HAVE EVER LIVED ponders making a decision that will
                alter the path of The Walt Disney Corporation foreverâ€¦
            </p>
        </div>

        <!-- <div class="recruiterwars">RECRUITER WARS</div> -->
        <div class="longtimeago" id="galaxyfarfaraway">
            <div>
                A few hours ago, after a productive call with your account
                manager...
            </div>
        </div>
        <div class="logo">Q4 WARS</div>
        <div class="links">
            <div id="github">
                <a href="https://github.com/bearreport">GitHub</a>
            </div>

            <div id="linkedin">
                <a href="https://www.linkedin.com/in/bayerjosh/">LinkedIn</a>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", () => {
                drawStarField();
            });
            function drawStarField() {
                {
                    const app = new PIXI.Application({
                        width: window.innerWidth,
                        height: window.innerHeight,
                        backgroundColor: 0x000000,
                    });

                    document.body.appendChild(app.view);

                    function createStar() {
                        const star = new PIXI.Graphics();
                        star.beginFill(0xffffff);
                        star.drawCircle(0, 0, Math.random() * 2);
                        star.endFill();
                        star.x = Math.random() * app.screen.width;
                        star.y = Math.random() * app.screen.height;
                        return star;
                    }

                    const starfield = new PIXI.Container();
                    for (let i = 0; i < 1000; i++) {
                        starfield.addChild(createStar());
                    }
                    app.stage.addChild(starfield);

                    app.ticker.add(() => {
                        starfield.children.forEach((star) => {
                            star.x += star.scale.x * 0.1;
                            if (star.x > app.screen.width) {
                                star.x = 0;
                            }
                        });
                    });
                }
            }
            function triggerLightspeedEffect() {
                app.ticker.remove();
                app.ticker.add(() => {
                    this.starfield.forEach((star) => {});
                });
            }

            function calculateStarPath(star, fixedPoint) {
                // holy hell I remember how to do trigonometry
                const angle = Math.atan2(
                    star.y - fixedPoint.y,
                    star.x - fixedPoint.x
                );
                const distance = Math.sqrt(
                    (star.x - fixedPoint.x) ** 2 + (star.y - fixedPoint.y) ** 2
                );

                const newX = fixedPoint.x + distance * Math.cos(angle);
                const newY = fixedPoint.y + distance * Math.sin(angle);

                return { newX, newY };
            }

            function animateStarsToEdges() {
                const fixedPoint = {
                    x: app.screen.width / 2,
                    y: app.screen.height / 2,
                };

                for (const star of stars) {
                    const { newX, newY } = calculateStarPath(star, fixedPoint);

                    const tween = new TWEEN.Tween(star)
                        .to({ x: newX, y: newY }, 1000)
                        .easing(TWEEN.Easing.Linear.None)
                        .start();
                }
            }
            setTimeout(function () {
                document.getElementById("overlay").style.display = "block";
            }, 4000); // Delay matches the animation duration
            setTimeout(function () {
                document.getElementById("galaxyfarfaraway").style.display =
                    "none";
            }, 2000); // Delay matches the animation duration
            addEventListener("resize", (event) => {
                drawStarField();
            });
        </script>
    </body>
</html>
